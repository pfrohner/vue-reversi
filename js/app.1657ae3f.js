(function(t){function n(n){for(var r,o,i=n[0],c=n[1],l=n[2],f=0,b=[];f<i.length;f++)o=i[f],a[o]&&b.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);s&&s(n);while(b.length)b.shift()();return u.push.apply(u,l||[]),e()}function e(){for(var t,n=0;n<u.length;n++){for(var e=u[n],r=!0,i=1;i<e.length;i++){var c=e[i];0!==a[c]&&(r=!1)}r&&(u.splice(n--,1),t=o(o.s=e[0]))}return t}var r={},a={app:0},u=[];function o(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=r,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)o.d(e,r,function(n){return t[n]}.bind(null,r));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="/vue-reversi/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=n,i=i.slice();for(var l=0;l<i.length;l++)n(i[l]);var s=c;u.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";var r=e("64a9"),a=e.n(r);a.a},"56d7":function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"startGame",function(){return N}),e.d(r,"endTurn",function(){return $}),e.d(r,"play",function(){return B});var a={};e.r(a),e.d(a,"currentTurn",function(){return D}),e.d(a,"gameState",function(){return R}),e.d(a,"currentColor",function(){return H}),e.d(a,"board",function(){return F}),e.d(a,"size",function(){return J}),e.d(a,"nextTurn",function(){return q}),e.d(a,"getTileState",function(){return L}),e.d(a,"flattenBoard",function(){return U}),e.d(a,"whiteCount",function(){return K}),e.d(a,"blackCount",function(){return Q}),e.d(a,"winner",function(){return V}),e.d(a,"isTie",function(){return W}),e.d(a,"availableMoves",function(){return X}),e.d(a,"opponentMoves",function(){return Y}),e.d(a,"playerCanPlay",function(){return Z}),e.d(a,"opponentCanPlay",function(){return tt}),e.d(a,"gameIsOver",function(){return nt}),e.d(a,"isTilePlayable",function(){return et});e("cadf"),e("551c"),e("097d");var u=e("2b0e"),o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],c={name:"App"},l=c,s=(e("034f"),e("2877")),f=Object(s["a"])(l,o,i,!1,null,null,null);f.options.__file="App.vue";var b=f.exports,d=e("8c4f"),p=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("main",[e("Game")],1)},v=[],y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"game"},[e("div",{staticClass:"board-wrapper"},[e("board")],1),!t.playerCanPlay&&!t.gameIsOver||t.gameIsOver?e("div",{staticClass:"info"},[t.playerCanPlay||t.gameIsOver?t._e():e("div",[e("p",[t._v("No available moves")]),e("button",{staticClass:"button",on:{click:t.endTurn}},[t._v("\n        Pass\n      ")])]),t.gameIsOver?e("div",[t.isTie?e("p",[t._v("It's a tie!")]):e("p",[t._v("Game over, "),e("strong",[t._v(t._s(1===t.winner?"white":"black")+" won!")])]),e("button",{staticClass:"button",on:{click:t.startGame}},[t._v("\n        Restart\n      ")])]):t._e()]):t._e()])},m=[],O=e("be94"),h=e("2f62"),_=e("ade3"),j=(e("ac6a"),e("6c7b"),e("2909")),g="START_GAME",x="END_GAME",T="FLIP_COINS",C="END_TURN",w=0,S=1,P=2,z=[];z[S]="white",z[P]="black";var k,E="STARTED",M="FINISHED";function I(t,n,e){u["a"].set(t.board[n.x],n.y,e)}var G={gameState:null,currentTurn:w,size:4,board:[]},A=(k={},Object(_["a"])(k,C,function(t){t.currentTurn=ot.getters.nextTurn}),Object(_["a"])(k,g,function(t){t.board=Array.apply(void 0,Object(j["a"])(Array(t.size))).map(function(){return Array(t.size).fill(w)}),I(t,{x:t.size/2-1,y:t.size/2-1},S),I(t,{x:t.size/2,y:t.size/2-1},P),I(t,{x:t.size/2-1,y:t.size/2},P),I(t,{x:t.size/2,y:t.size/2},S),t.currentTurn=S,t.gameState=E}),Object(_["a"])(k,x,function(t){t.gameState=M}),Object(_["a"])(k,T,function(t,n){n.forEach(function(n){return I(t,n,t.currentTurn)})}),k),N=function(t){var n=t.commit;n(g)},$=function(t){var n=t.commit;n(C)},B=function(t,n){var e=t.commit,r=t.getters;r.isTilePlayable(n)&&(e(T,[n].concat(Object(j["a"])(r.availableMoves[n.x][n.y]))),e(C))},D=function(t){return t.currentTurn},R=function(t){return t.gameState},H=function(t){return z[t.currentTurn]},F=function(t){return t.board},J=function(t){return t.board.length},q=function(t){return ut(t.currentTurn)},L=function(t){return function(n){return t.board[n.x][n.y]}},U=function(t){return t.board.reduce(function(t,n){return Object(j["a"])(t).concat(Object(j["a"])(n))})},K=function(t,n){return n.flattenBoard.filter(function(t){return t===S}).length},Q=function(t,n){return n.flattenBoard.filter(function(t){return t===P}).length},V=function(t,n){return n.whiteCount>n.blackCount?S:P},W=function(t,n){return n.whiteCount===n.blackCount},X=function(t,n){return t.board.map(function(t,e){return t.map(function(t,r){return rt(n,n.currentTurn,{x:e,y:r})})})},Y=function(t,n){return t.board.map(function(t,e){return t.map(function(t,r){return rt(n,n.nextTurn,{x:e,y:r})})})},Z=function(t,n){return n.availableMoves.reduce(function(t,n){return Object(j["a"])(t).concat(Object(j["a"])(n))}).filter(function(t){return t.length>0}).length>0},tt=function(t,n){return n.opponentMoves.reduce(function(t,n){return Object(j["a"])(t).concat(Object(j["a"])(n))}).filter(function(t){return t.length>0}).length>0},nt=function(t,n){return!n.playerCanPlay&&!n.opponentCanPlay},et=function(t,n){return function(t){return n.availableMoves[t.x][t.y].length>0}};function rt(t,n,e){return t.getTileState(e)===w?Object(j["a"])(at(t,n,e,{x:-1,y:0})).concat(Object(j["a"])(at(t,n,e,{x:0,y:-1})),Object(j["a"])(at(t,n,e,{x:1,y:0})),Object(j["a"])(at(t,n,e,{x:0,y:1})),Object(j["a"])(at(t,n,e,{x:-1,y:-1})),Object(j["a"])(at(t,n,e,{x:1,y:1})),Object(j["a"])(at(t,n,e,{x:-1,y:1})),Object(j["a"])(at(t,n,e,{x:1,y:-1}))):[]}function at(t,n,e,r){var a,u=e.x+r.x,o=e.y+r.y,i=[];while(u>=0&&u<t.size&&o>=0&&o<t.size){if(a=t.getTileState({x:u,y:o}),a===n)return i;if(a!==ut(n))break;i.push({x:u,y:o}),u+=r.x,o+=r.y}return[]}function ut(t){return t===S?P:S}u["a"].use(h["a"]);var ot=new h["a"].Store({strict:!0,state:G,mutations:A,actions:r,getters:a}),it=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"board"},[t._l(t.board,function(n,r){return t._l(n,function(n,a){return e("tile",{key:r+"_"+a,style:{width:100/t.size+"%",height:100/t.size+"%"},attrs:{state:t.getTileState({x:r,y:a}),hint:t.isTilePlayable({x:r,y:a})},nativeOn:{click:function(n){t.play({x:r,y:a})}}})})})],2)},ct=[],lt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"tile"},[e("coin",{class:t.hint?"hint "+t.currentColor:t.coinColor})],1)},st=[],ft=(e("6762"),e("2fdb"),e("c5f6"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"coin"},[t._t("default")],2)}),bt=[],dt=(e("ad89"),{}),pt=Object(s["a"])(dt,ft,bt,!1,null,"36f1ed56",null);pt.options.__file="Coin.vue";var vt=pt.exports,yt={components:{Coin:vt},props:{hint:Boolean,state:{type:Number,required:!0,default:0,validator:function(t){return[0,1,2].includes(t)}}},computed:Object(O["a"])({},Object(h["c"])(["currentColor"]),{coinColor:function(){return z[this.state]}})},mt=yt,Ot=(e("cea9"),Object(s["a"])(mt,lt,st,!1,null,"671b04df",null));Ot.options.__file="Tile.vue";var ht=Ot.exports,_t={components:{Tile:ht},computed:Object(O["a"])({},Object(h["c"])(["board","size","getTileState","isTilePlayable"])),methods:Object(O["a"])({},Object(h["b"])(["play"]))},jt=_t,gt=(e("a3cb"),Object(s["a"])(jt,it,ct,!1,null,null,null));gt.options.__file="Board.vue";var xt=gt.exports,Tt={components:{Board:xt},computed:Object(O["a"])({},Object(h["c"])(["playerCanPlay","gameIsOver","winner","isTie"])),created:function(){ot.dispatch("startGame")},methods:Object(O["a"])({},Object(h["b"])(["endTurn","startGame"]))},Ct=Tt,wt=(e("b4b8"),Object(s["a"])(Ct,y,m,!1,null,"12e2702c",null));wt.options.__file="Game.vue";var St=wt.exports,Pt={name:"Home",components:{Game:St}},zt=Pt,kt=Object(s["a"])(zt,p,v,!1,null,null,null);kt.options.__file="Home.vue";var Et=kt.exports;u["a"].use(d["a"]);var Mt=new d["a"]({base:"/vue-reversi/",routes:[{path:"/",component:Et}]});u["a"].config.productionTip=!1,new u["a"]({router:Mt,store:ot,render:function(t){return t(b)}}).$mount("#app")},"64a9":function(t,n,e){},"728b":function(t,n,e){},a3cb:function(t,n,e){"use strict";var r=e("e735"),a=e.n(r);a.a},ad89:function(t,n,e){"use strict";var r=e("728b"),a=e.n(r);a.a},b4b8:function(t,n,e){"use strict";var r=e("ccb0"),a=e.n(r);a.a},bf7c:function(t,n,e){},ccb0:function(t,n,e){},cea9:function(t,n,e){"use strict";var r=e("bf7c"),a=e.n(r);a.a},e735:function(t,n,e){}});
//# sourceMappingURL=app.1657ae3f.js.map